Big Code 大作业思考
---
# 1. 数据分析情况

| 情况                                 | 数据                                     |
| ------------------------------------ | ---------------------------------------- |
| 全部数据情况(每人每题记为一次)       | 42781次                                  |
| 全部题目数量                         | 42787次(说明有6道题没有任何一次提交记录) |
| 一道题目最多被人做的次数             | 174次(case_id = 2718)                    |
| 一道题目最少被人做的次数             | 24次(case_id = 2124)                     |
| 一道题目最多的上传次数               | 664次(case_id = 2397)                    |
| 一道题目最少的上传次数               | 34次(case_id = 2298)                     |
| 全部满分题目数量(每人每题记为一次)   | 41400次                                  |
| 一道题目最多被人做的次数             | 164次(case_id = 2718)                    |
| 一道题目最少被人做的次数             | 21次(case_id = 2103)                     |
| 一道题目最多的上传次数               | 559次(case_id = 2397)                    |
| 一道题目最少的上传次数               | 34次(case_id = 2298)                     |
| 排序算法题目数量(每人每题记为一次)   | 2494次                                   |
| 排序算法题目AC数量(每人每题记为一次) | 2432次                                   |
| 排序算法题目最多被人做的次数         | 152次(case_id = 2535)                    |
| 排序算法题目最多被人AC的次数         | 150次(case_id = 2535)                    |
| 排序算法题目最少被人做的次数         | 29次(case_id = 2397)                     |
| 排序算法题目最少被人AC的次数         | 25次(case_id = 2397)                     |
| 排序算法题目最多的上传次数           | 316次(case_id = 2387)                    |
| 排序算法题目最多的AC上传次数         | 294次(case_id = 2387)                    |
| 排序算法题目最少的上传次数           | 52次(case_id = 2491)                     |
| 排序算法题目最少的AC上传次数         | 51次(case_id = 2491)                     |
| 查找算法题目数量(每人每题记为一次)   | 4438次                                   |
| 查找算法题目AC数量(每人每题记为一次) | 4316次                                   |
| 查找算法题目最多被人做的次数         | 143次(case_id = 2606)                    |
| 查找算法题目最多被人AC的次数         | 137次(case_id = 2606)                    |
| 查找算法题目最少被人做的次数         | 29次(case_id = 2115)                     |
| 查找算法题目最少被人AC的次数         | 20次(case_id = 2174)                     |
| 查找算法题目最多的上传次数           | 272次(case_id = 2397)                    |
| 查找算法题目最多的AC上传次数         | 232次(case_id = 2397)                    |
| 查找算法题目最少的上传次数           | 52次(case_id = 2542)                     |
| 查找算法题目最少的AC上传次数         | 48次(case_id = 2525)                     |
| 图结构题目数量(每人每题记为一次)     | 2110次                                   |
| 图结构题目AC数量(每人每题记为一次)   | 1971次                                   |
| 图结构题目最多被人做的次数           | 74次(case_id = 2254)                     |
| 图结构题目最多被人AC的次数           | 69次(case_id = 2254)                     |
| 图结构题目最少被人做的次数           | 24次(case_id = 2124)                     |
| 图结构题目最少被人AC的次数           | 21次(case_id = 2103)                     |
| 图结构题目最多的上传次数             | 255次(case_id = 2254)                    |
| 图结构题目最多的AC上传次数           | 248次(case_id = 2254)                    |
| 图结构题目最少的上传次数             | 34次(case_id = 2167)                     |
| 图结构题目最少的AC上传次数           | 34次(case_id = 2167)                     |
| 树结构题目数量(每人每题记为一次)     | 5326次                                   |
| 树结构题目AC数量(每人每题记为一次)   | 5011次                                   |
| 树结构题目最多被人做的次数           | 84次(case_id = 2660)                     |
| 树结构题目最多被人AC的次数           | 82次(case_id = 2660)                     |
| 树结构题目最少被人做的次数           | 25次(case_id = 2149)                     |
| 树结构题目最少被人AC的次数           | 18次(case_id = 2149)                     |
| 树结构题目最多的上传次数             | 261次(case_id = 2310)                    |
| 树结构题目最多的AC上传次数           | 233次(case_id = 2304)                    |
| 树结构题目最少的上传次数             | 34次(case_id = 2298)                     |
| 树结构题目最少的AC上传次数           | 34次(case_id = 2298)                     |
| 数字操作题目数量(每人每题记为一次)   | 7711次                                   |
| 数字操作题目AC数量(每人每题记为一次) | 7604次                                   |
| 数字操作题目最多被人做的次数         | 110次(case_id = 2584)                    |
| 数字操作题目最多被人AC的次数         | 110次(case_id = 2584)                    |
| 数字操作题目最少被人做的次数         | 36次(case_id = 2332)                     |
| 数字操作题目最少被人AC的次数         | 30次(case_id = 2092)                     |
| 数字操作题目最多的上传次数           | 254次(case_id = 2092)                    |
| 数字操作题目最多的AC上传次数         | 203次(case_id = 2092)                    |
| 数字操作题目最少的上传次数           | 44次(case_id = 2402)                     |
| 数字操作题目最少的AC上传次数         | 44次(case_id = 2402)                     |
| 字符串题目数量(每人每题记为一次)     | 3716次                                   |
| 字符串题目AC数量(每人每题记为一次)   | 3549次                                   |
| 字符串题目最多被人做的次数           | 94次(case_id = 2908)                     |
| 字符串题目最多被人AC的次数           | 90次(case_id = 2908)                     |
| 字符串题目最少被人做的次数           | 32次(case_id = 2970)                     |
| 字符串题目最少被人AC的次数           | 28次(case_id = 2198)                     |
| 字符串题目最多的上传次数             | 487次(case_id = 2908)                    |
| 字符串题目最多的AC上传次数           | 470次(case_id = 2908)                    |
| 字符串题目最少的上传次数             | 49次(case_id = 2740)                     |
| 字符串题目最少的AC上传次数           | 48次(case_id = 2747)                     |
| 线性表题目数量(每人每题记为一次)     | 6543次                                   |
| 线性表题目AC数量(每人每题记为一次)   | 6395次                                   |
| 线性表题目最多被人做的次数           | 55次(case_id = 2663)                     |
| 线性表题目最多被人AC的次数           | 55次(case_id = 2663)                     |
| 线性表题目最少被人做的次数           | 37次(case_id = 2727)                     |
| 线性表题目最少被人AC的次数           | 31次(case_id = 2673)                     |
| 线性表题目最多的上传次数             | 208次(case_id = 2210)                    |
| 线性表题目最多的AC上传次数           | 208次(case_id = 2210)                    |
| 线性表题目最少的上传次数             | 42次(case_id = 2662)                     |
| 线性表题目最少的AC上传次数           | 41次(case_id = 2673)                     |
| 数组题目数量(每人每题记为一次)       | 10449次                                  |
| 数组题目AC数量(每人每题记为一次)     | 10122次                                  |
| 数组题目最多被人做的次数             | 94次(case_id = 2701)                     |
| 数组题目最多被人AC的次数             | 93次(case_id = 2442)                     |
| 数组题目最少被人做的次数             | 37次(case_id = 2470)                     |
| 数组题目最少被人AC的次数             | 32次(case_id = 2864)                     |
| 数组题目最多的上传次数               | 301次(case_id = 2718)                    |
| 数组题目最多的AC上传次数             | 284次(case_id = 2718)                    |
| 数组题目最少的上传次数               | 44次(case_id = 2542)                     |
| 数组题目最少的AC上传次数             | 44次(case_id = 2542)                     |

# 2. 目前题目想法
```
评价一个学生编程能力的维度以及提出提高建议？
多元化学生编程能力评价与评估。
首先，进行数据预处理:筛选面向用例的人。
如何判断一个学生的编程能力是否上流
```

# 3. 数据预处理(高优先级)

## 3.1. 有效提交筛选
1. if...else...的数据有效性问题:if...else...和print同时出现的次数过高(>=3次)。
2. eval("open")、random、open、exec的使用。
```
if...else...筛选(第一波筛选)
特殊库包的筛选(第二波筛选)
```
1. 记录数量，不对代码进行分析。

## 3.2. 目前已经完成的数据统计
1. user_id,case_id,提交次数，每次的分数(|)，分数的变化
2. 难度
   1. case_id,平均分，中位数，众数、做对的人数
   2. case_id,平均做对时间、平均提交次数(面向用例的人数),注意:写的时候这个函数输入是所有的Case。
   3. case_id,最长的一个用例平均卡了多久
3. 用例过了的标记(数字用|分隔)(先放置)
   1. 多线程池标记

## 3.3. 抽样方法
1. 不要使用全部的人来进行学习，要么是选择前80%，要么选择中间80%，避免后期的梯度爆炸(输入设计的时候可以选择一个范围)

# 4. 综合评价部分的计算

## 4.1. 做题分数
$做题分_{ij} \in[0,100] = 最终得分_{ij} * 权重， 权重\in[0,1]$
1. 权重:
   1. 影响因素:提交次数、分数变化、第一次提交(代码体变化情况)
   2. 提交次数越少、分数变化越大、权重越大
   3. AHP

## 4.2. 题目生难度
$题目生难度_i = \frac{100 - 平均分_i}{100} + \frac{100 - 中位数_i}{100} + \frac{100 - 众数_i}{100} + \frac{尝试过第i题的人数 - 做对第i题的人数}{做对第i题的人数} + \frac{平均提交次数_i}{用例总数_i}$

1. 设计一下权重(机器学习，TODO)
2. 具体形式(指数、乘法等形式)

## 4.3. 题目难度
$题目难度_i \in [0.1,0.8]$

1. 题目难度排序后，等比例映射到[0,0.7]，之后均加0.1

## 4.4. 编码风格分
$\max(编码风格分_{ij}) = 20, \min() = 0$

1. TODO 上网找找现成的？
2. 一个变量不规范，扣除0.5分。
3. 使用了名为czy或相关变量，0分。
4. 代码中有冗余代码(如果可以使用函数检查),每行扣1分
   1. 暴力枚举
   2. 线性表
5. 每一处缺少空格(运算符左右、参数表、数组)，扣除0.1分。
6. 有适当空行(分隔功能块、简单分隔)，加3分。
7. 扩展到逻辑风格
8. 取最高分

### 4.4.1. 抽样方法
1. 原始分数的最高分的那一个的编码风格分记录
2. 多个最高分的话就选择最新的

## 4.5. 题目分
$题目分_{ij} = \frac{(做题分_{ij} * 题目难度_{j} + 编码风格分_{ij}) * (用例总数_i - 面向用例数_{ij})}{用例总数_i}$

1. 用例总数,面向用例数 -> [0, 1]

## 4.6. 总评分
同学$j$的总评:$总评_j = \frac{\sum_{i}^{所有做过的题目}题目分_{ij}}{N}$

1. 近似正态分布:拟合正态分布

## 4.7. 比例
1. 8:2通过调参

## 4.8. 数据数值化
1. 数据离散化 + 归一化

## 4.9. 备选影响因素
1. 分数分布的偏度、峰度、方差的影响。
2. 注意提交的第一次成绩应该重要有意义(也就是我们应该让用例的占比按照递减排列)(权重包含)
3. 类别之间相关性和类别加权难度
4. 代码长度和最短、最长、平均代码长度(放置)
5. 个人完成时间与最短、最长、平均完成时间关系(数据可信度低，先不考虑)
6. 用例平均通过时间 + 最长一个用例卡了超过多久(数据可信度低，先不考虑)
7. 题目难度:往往不同题目之间的难度也是有互相影响的。

# 5. 实现的技术(学习路线)
1. <a href = "https://github.com/AlDanial/cloc">CLOC来快速计算空行、物理行</a>
2. NiCad:题目相关性分析

# 6. 扩展分析
1. 做对这道题的人，更加可能做错别的题目
2. 综合评价后，编码风格与得分
3. 提交次数 + 时间 + 个人
4. 优势互补，结对编程

# 7. 技术
1. 相似度分析
2. 关键词提取(个人感觉比较鸡肋)
3. 推荐算法:
   1. 基于代码的推荐
   2. 基于用户的推荐
   3. 频繁项等重要部分的分析:Aprior、FpGrowth算法的使用
4. NLP原子能力:
   1. nltk包
   2. TextBlob包
5. 启发式算法的使用:
   1. 蚁群算法
   2. 退火算法等等
6. 他讲的东西的应用:比如假设检验、关联性分析、独立性分析(比如两个人之间有多大可能存在抄袭)
7. 局部敏感随机投影森林

## 7.1. 模型
1. 逻辑斯蒂增长模型
2. Rasch模型

# 8. TODO
1. 找一下业界已经做了评估的论文
2. 做出力所能及的范围内的假设

# 9. 文献部分

## 9.1. 编程能力评估模型研究进展(杨宇霞)
1. 建设性调准(Constructive Alignment)理论:学生的学习活动会影响最终的学习结果。

### 9.1.1. 基于编程产物的研究
1. 文献[12]中作者基于程序的语义结构相似性，针 对给定编程任务生成一个标准解空间，采用SDG作为 中间表示形式，采用语义保留（SemanticPreserving）转化法对形同依赖图进行标准化处理，根据标准化后的学生程序与模板程序系统依赖图的匹配结果评分。
2. 文献[13]中作者提出了基于控制流的抽象语法树（CFAST）来表示源程序，通过控制结构的数目，计算与正确程序之间的距离。
3. 文献[14]中作者结合词法、语法和语义分析源程序，采用模式匹配理解程序，抽象语法树（AST）判断语义相似性，通过设定不同的权值获得最终的评分结果。此外，Shashank和Gursirman等人提出采用机器学习的方法，通过对待测代码的CFG和PDG进行特征提取，训练单层的神经网络回归模型，用以对人工评分进行预测[15-16]。

### 9.1.2. 基于编程行为的研究
1. 基于击键的编程行为研究:无数据支撑
2. 基于日志的编程行为研究：
   1. 文献[21]**重要**中作者通过日志文件收集学生在编程 过程中产生的四种数据：编译、运行、代码编辑以及提示使用，根据编译和使用提示的次数以及先后顺序，给学生在该编程任务上的表现评分，根据一段时间多次任务的表现评分轨迹，预测学生是否能够顺1利通过课程；Automatically Classifying Students in Need of Support by Detecting Changes in Programming Behaviour

## 9.2. 基于模糊层次分析法的软件编程能力评估模型 刘立
1. 郑丽娟等在评估策略中添加了模糊判断矩阵的一致性检验
2. 李家豪等避免过多的将专家经验引入
3. 模糊层析分析法->能力评估
4. AHP(层次分析法)和模糊综合评价法(FCE)
5. 排序法计算指标权重，计算结果分辨率高

## 9.3. 一种计算机专业学生软件开发能力评价方法(郑丽娟)
1. 粗软集(觉得真的不错耶)
2. 参考文献的7-10推荐看看(我没看咕咕咕)

## 9.4. 基于模糊层次分析法的社交编程网站开发者评估方法 李家豪
1. 模糊层次分析法计算权重们可以参考

## 9.5. AHP 层次分析法
1. <a href = "https://blog.csdn.net/mmm_jsw/article/details/84863416">AHP层次分析法的详细步骤</a>
   1. 目标层:为学生能力进行排序
   2. 标准层:编码风格、编码时间等
   3. 方案层:学生1、学生2、...、学生n
2. <a href = "https://zhuanlan.zhihu.com/p/38207837">层次分析法_知乎，很棒！</a>

## 9.6. 模糊AHP
1. 模拟人的逻辑，并不会是做非黑即白的选择操作
2. <a href = "https://zhuanlan.zhihu.com/p/38207837">模糊AHP方法，不失为一种好方法</a>
3. <a href = "https://blog.csdn.net/resplendentRoy/article/details/88365050">模糊AHP，不错的讲解文章</a>
4. <a href = "https://wenku.baidu.com/view/d245ca52c9d376eeaeaad1f34693daef5ff7134e.html">PPT解释</a>
5. 问题:我们是专家模糊矩阵还是用标准矩阵？

## 9.7. 基于BP神经网络的大学生编程能力评价方法研究
1. 在能力评价方法上，国内外学者做了大量的研究，如运用统计学知识的因子 分析法[3]和多元线性回归法[4]，如模糊数学中的层次分析法[5]和模糊综合评价法[6] 等方法，这些方法在能力评价中都取得了良好效果[7]。2007年，在美国运筹学家（T.L.Saaty）提出的层次分析法（AHP）的基础上，张阳等设计了在线学习评价 模型[8]；2008年，郑晓薇和陈瑛等改进的模糊综合评价方法，提高了评价结果的 可信度[9][10]；2011年，Jared Keengwe和Jung-JinKang在线学习交流的评价方法中 采用活动理论三角模型[11]；Xu Lei和Claus Pahl的在线学习的评价方法是将分析 模型与应用于商务网站的网站分析方法的结合[12]。
2. BP单隐层神经网络和我们没什么关系，数据量实在是狗

### 9.7.1. 能力的界定
1. 我们的论文要完成从能力->编程能力的过度。

### 9.7.2. 用户行为定义
1. 程序阅读、编码风格、程序运行准确率。

### 9.7.3. FAHP
1. 图2.2很完美的展示了AHP 和 FCE的结合(32页)
2. 评价的基本过程
   1. 优先关系矩阵(40页)
   2. 模糊一致矩阵(利用定理2.2.1)
   3. 计算指标权重值
   4. 进行一二级评估
